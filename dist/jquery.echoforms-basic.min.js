/*!
 * Copyright Â© 2007-2014 United States Government as represented by the Administrator of the National Aeronautics and Space Administration. All Rights Reserved.
 * 
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * 
 *     http://www.apache.org/licenses/LICENSE-2.0
 * 
 * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.
 */
!function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){n(41),n(37),n(33)},function(t,e){t.exports=jQuery},function(t,e,n){(function(e){var r,o,i,a,s,u,l,c,p=[].slice;c=n(39),l=!1,u=function(){var t;return t=1<=arguments.length?p.call(arguments,0):[],"undefined"!=typeof console&&null!==console&&"function"==typeof console.warn?console.warn.apply(console,t):void 0},o=function(){var t;if(t=1<=arguments.length?p.call(arguments,0):[],"undefined"!=typeof console&&null!==console&&"function"==typeof console.error&&console.error.apply(console,t),null!=e("#form_load_errors"))return e("#form_load_errors").append("<div class='form_load_error'>"+t+"</div>")},i=function(t,e,n){var r,i,a;return l||"undefined"!=typeof wgxpath&&null!==wgxpath&&"function"==typeof wgxpath.install&&wgxpath.install(c),l=!0,t.length<1&&o("Error processing xpath ["+e+"].  Provided context node was not valid. Verify that the ref attribute of the parent group is valid (including the namespace)."),"["===(null!=e?e.charAt(0):void 0)&&(e="self::*"+e),"true"===e||"false"!==e&&(r=t[0].ownerDocument,e=e.replace(/^\/+|(https:)?\/\//g,function(t,e){return e?t:"/descendant-or-self::node()/"}),null==r.evaluate&&wgxpath.install({document:r}),i=r.evaluate(e,t[0],n,XPathResult.ANY_TYPE,null),a=function(){switch(i.resultType){case XPathResult.NUMBER_TYPE:return i.numberValue;case XPathResult.STRING_TYPE:return i.stringValue;case XPathResult.BOOLEAN_TYPE:return i.booleanValue;default:return i.iterateNext()}}())},a=function(t){var e,n;if(!t||"string"!=typeof t)return null;n=void 0;try{c.DOMParser?n=(new DOMParser).parseFromString(t,"text/xml"):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(t))}catch(t){e=t}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||o("Invalid XML: "+t),n},r=function(t){var e,n,r,o,i,a,s;for(i={},e=" default ",o=/\sxmlns(?::(\w+))?=\"([^\"]+)\"/g;null!=(n=o.exec(t));)a=n.slice(1,3),r=a[0],s=a[1],i[null!=r?r:e]=s;return function(t){return i[null!=t?t:e]}},s=function(t,n){var r,o;if(null==n&&(n={}),o="",r="","#text"===t.nodeName)return""+o+e("<div/>").text(t.nodeValue).html();if("#comment"===t.nodeName)return o+"<!--"+t.nodeValue+"-->";for(var i=0;i<t.attributes.length;i++){var a=t.attributes[i].name,u=t.attributes[i].value;r+=" "+a+'="'+u+'"',/xmlns/.test(a)&&"xmlns"!=a&&(n[a.split(":").pop()]=u)}if(null==t.prefix)for(prefix in n)if(n.hasOwnProperty(prefix)&&n[prefix]==t.namespaceURI){t.prefix=prefix;break}o+="<"+t.nodeName,o+=r+">";for(var i=0;i<t.childNodes.length;i++)o+=s(t.childNodes[i],n);return o+"</"+t.nodeName+">"},t.exports={warn:u,error:o,execXPath:i,parseXML:a,buildXPathResolverFn:r,printDOMToString:s}}).call(e,n(1))},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUAAAABgCAMAAABblVsaAAADAFBMVEUAAABaoVUEYBipAAA5OTkEBAQAAACFZUcJAAAECgLirGt+fn6lpaalpaW5GBhbolUGYhmqAACop6n5+fnBAgKmAQEAWxrfn2UCXhkIDQZ1d3wWhwSlAAAPcRu+EhL3qamnBQWlpaVYuC6xEBD//f+yCQl2d3wvkCQVhQbJLS3BISEqhyxVrz10x00fjwarBQUAWRMrmgyoAgLng4OtCAjvk5MPfAelBwf18/VhuUHLDAz1k5NmukkHYRaKz2t0wVmb23pesUqP1W+P0nDsZ2fUSUm1FxfnWVnqY2O0BASNAADq2p2+GxuwVzj8+PIdHRukpKThq2n////s7O0mJib+/P3enWP67uFVV1uop6kkmwD459b99tVcY3D29fb9+O3x8vHf3+Dp6Oj78ungyI337caYmZihjFU1rwACNrDx8vHT09Tw0rfz3Lv03cbp157Js3u3oWfOwJLdzKdGbUOAgonw8O82rgb35dSluaX67uDq6+ua5mfO48Ph4uJ0dnstowAyqwD78uhdxCovpgB910i38YzP9q9arkL8+/vSAADoAADr7O3S58Y5sAbn5+f249DjAADtAQGpy6JAtwU1lxuC2E2z74hPvxbV1NX99+uvr+NKvQ/36tmy6JHFwJ0ilgR41ELl5eXy9PLd3t7U1dbKAQHC1Meg3oCR1nBozDFerUYnngBgxywjihLV09X/mJjZBQX24MrxAAD+Zmb9+Oz7i4sqiR1uwku4zL2c427W+Lrs7+x7x1r58+Sv3JmOy213vlpxu1d/f7iwxbXW1tn/tLTdAAD9d3f4Jibx1rrwPT3rEBBRxBRlxDeH0mGI02KJ1WCo34qs8HhvzjjJz7iwza337d62FBRiuUP2MTHezKn/q6uDloeguqRRozrM1b6Lz2yi2IeGvm4/ohyrmVWV416c1Xui6W+/0bU7jjS98ZUxjSm5vJaXsZ8slBFSvh7/3t7/ycn/fHzdzqmww7bL2cO3nFnodXV1mHacnFB4kX+kvKuq7HuwuY6orohs99ZiAAAA7XRSTlMA/S4cWkEmAQkW/YD+/1v+NSL+/v5cR/k5F/3prEVM9qH9+27//fzZ2ayEYN3t2LQZ6avdnPrZg/ro8/rVIunV66/o0PLQV/v50hJqkwX9/////////v////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////m1ZoxUAAAH80lEQVR42u2ceVjTZhzHCwXaeiAoc865TSbqDq8d7r7v4w9bwmjLUZ6uUFlKW8BRIqgoOEZBiYgKniBT0LlNcYrXnAdem+50uts5dzvdfd/vm7RMHn5JWUInxvcDNDzPm7xpPnyTvG/4gUrVtYwLcvvppru/PwJJIIEkkCSQJJAkkKDEBGq4z4BoJL/5CRy5ubnZDyowgXZ9716xsb166WN76/V2qB0Ti9YRa/dhB/2l+UhJyVFgAvVWDwftoWlWD7TTFo/nOYTHY6HBdq+PpmOH9bBAozGNT2B2jvISqC+kKQrJs1gsXgsoaPK2yTNnzpyMgAVSGNpSvWLLkl9BgSkpxglcACVHUN+JdRJkJEzfiQQK9K+JbZjBsjOwQhpMWF/qs5rSxxFfPr5thhnY96aPDrNIYPXKJSteX3kBsItcJG4Cpy8jQ2IC9ebA/hLkpEhG/7EN7JQpbCEXIlBg4fZJn9eUlpbW1GwvBPbz/taDW49QVPWHm1975dVVoaDAjJTcNKxPWGCgA6QCZTDBJCuBMvqPbbBarVMaHkYKaQ8ocMe8TychNs/bUdi3Q3PUxUvfmLfxSPXGJ0tKXv7gfRUsMAOnMENGAr2UPcDxmWQlUEb/WOAyZBCFkIYSaC7c+Rhm6ZPfrAIEDvi4dtGcl8reXpSZmTm3Cfw5ZiNx2XwAM8ZLPUAvmyd+fAET2P4D6l+4ne8fbkcCl+9GBqewLOWBBdaWPF1SUjunchV0Cv8+F6mbUzlt2rS5TTQsMMPJCXQixgclgQkcwUugaP961upw7F6GFLIUnMCy/PzKysr8/Pwy8Cay6+vp06dPnTp1QxO4PfLnznJmY39ut3t8sK6BMociMvrXsw6HY/5qFEIrCwqk+iQlJT2FvpLKKEgg/dUzuHXDJnB7rSonA4lzZ6e43enp6VITaFYFV6CM/jmB2CG6l8ACQ5J8hMACHV89U1+/4Ud4e50ux4nEuXPEBXbBOFCWQJVcgauXr57vsMID5YkhIX3QR0jILnCgbXE4/jhxfBPyxwLtuvAcd3ZubnpOSnq69AR265kIZeFBkzFQEMtPNfBAEZzqWVm2YVMTi7ECpzAWiAgg8AzGrjdj+uIXgYcFZh+SHiZoI8ZzKDaB/xe8RuLhND1tIhBIAgkkgQQCSSD5EQWpnSSQQBJIIAkkCSSQBBJIAjug4SAJBElsB9BuMBh6cKBvBNrbSBTeT5E5LzUvz6S8BCa6bG0wgACDbX3B84jiBcVpNgPU7q8PPHqs2iD8BuypeQ6TKVWBCSwwImy4gtSbBgks5usDcYFgMSjQyHeA6wN/g/aQymEyIYFoKf2div3yNqELEijev3ACGWMyk1zAOVwPCSzw1wdu2VYACfzio5MMMihcH5gaj/FSeQtN8UIR7EQCzaIHmCA7SRL71yQyyQzjMwgKfNNXH1hasx0S+MnWg1vrjMY64frA1PhHMPFiAjuRP9HylYSA1W3jgtS/5txZzFokMLmgwGgrBgT2WOyrD/xz3k5AIF8fWFfH1wf+rJIoMGAC7ZRX/ABN8jIouX8s0OWahRUajQICl/L1gbVlxo4C29UH/mRQBSmBeaw30AF2OELxksD27VD/p7YLFyBqzl3retHpWjsLGwQEanos3vnN04jaykxIoOqTf+sDj6YZTlsC5VYISu4fJdCV5TNYACbwzVX5HJmwQMNhX33g3ENGW9AS2H1LBJFAZ1ZWltPpcjFMMXgT6eMvb4MF2v7i6wMPMYyQQJ6iIN6FuwCJ/aO7cBYHNmgDhzFtAkNggVl/4/rAOrw9PJDmB4KpRQsT0EtwxoFdkkGJA2km6913f+AcukCBtolccSCuD4SucYY0p/PkieN1aCzEwNdAlRWD/C1sNdkpBc5E0hasX4BAkzFwJsIY/dgYSCA69ZkvDmF/jEtkKmdqbS1qbTWZVUoj8ZSnAYkSHhZ09mHCLnwSm1Lt5HkgoTtCEkggCSSQBBIIJIEEkkACgSSQQBJIIJAEnjU8wC+0JIHSGHJVJF5EXnWhwApahMj2up4cYYq3HHXn5aC/X94biwxGXvTtRbBBrS4iQidiMIz7rauF7anwBIbetmUJYHBI+YH9LWMjI2/cs+c72KA2gqLCI7TiAr2UI76nMoN3we03c/m7A66fu7q8quLAupaWljVr3ttzGXiKhlMTxQzyCaQdtLenEhM4YOTBW8eg/N2C6+dGdKif06gHlVdUPLt/377vW9ZcqhYQ+KiYQV6gl3Y4HOEKvPDh+rmbxoSOxPVzw4H6Q436yvKK2c++sG7dvkvVGiGB2KDQdZAXGOelKTpMeQkccAWunxtxPa6fGxUFrqK+v4ozeLda4C6LBSKDEaICcQi9SrwT97/CXz83KhRe45wb9nIG74qUKPAhv8E4BSYQGTyfr5+7JErAX0x5MzY4+537IlWSTmFOYFwcelHmWLD/+bh+7hKh/A1tbCxvbt5bUTH7nXvvkXQT8cY95PWizzNY4LgABuvrrxHIn+rat2IayxtHjy6vqjqwX8owRhPWz/+nLvFKnY30PzE8VOjw1YPfiom5Mjp6UGNV89VqSQPp6yz+/2Cn0ASqNAOihNvUg4cOQuLUg2IGw8OYgFM5zxMY/J+0lT8fhgxGnxOtaVtIeJgQ1q8fSl+/M/oUlvvHpKcs/jvhRQMHDhs2sAgRriL8d7Q6ne48BFpoz8oEEggkgQSSQAKBJLAb8Q85csYKBm7vjAAAAABJRU5ErkJggg=="},function(t,e,n){var r,o,i,a,s=function(t,e){function n(){this.constructor=t}for(var r in e)u.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},u={}.hasOwnProperty;r=n(1),o=n(6),i=n(11),a=function(t){function e(t,n,r,o){var i;this.inputType=(null!=(i=t.attr("type"))?i:"string").replace(/^.*:/,"").toLowerCase(),e.__super__.constructor.call(this,t,n,r,o),this.inputs().bind("click change",this.onChange)}return s(e,t),e.prototype.loadConstraints=function(){return e.__super__.loadConstraints.call(this),this.constraints.push(new i(this.inputType))},e.prototype.inputs=function(){return null!=this._inputs?this._inputs:this._inputs=this.el.find(":input")},e.prototype.inputValue=function(){return r.trim(this.inputs().val())},e.prototype.inputAttrs=function(){var t,e;return{id:this.id+"-element",class:"echoforms-element-"+(null!=(t=null!=(e=this.inputElementType)?e:this.inputClass)?t:this.ui[0].nodeName),autocomplete:"off"}},e.prototype.saveToModel=function(){if(e.__super__.saveToModel.call(this),this.refExpr)return this.ref().text(this.inputValue())},e.prototype.loadFromModel=function(){if(e.__super__.loadFromModel.call(this),this.refExpr)return this.inputs().val(this.refValue())},e.prototype.buildDom=function(){return e.__super__.buildDom.call(this).addClass("echoforms-typed-control")},e.prototype.buildElementsDom=function(){return e.__super__.buildElementsDom.call(this).append(r("<"+this.inputTag+">",this.inputAttrs()))},e}(o),t.exports=a},function(t,e,n){var r,o;o=n(2),r=function(){function t(t){this.message=t}return t.prototype.check=function(t,e,n){return o.warn(this.constructor.name+" must override check")},t}(),t.exports=r},function(t,e,n){var r,o,i,a,s=function(t,e){return function(){return t.apply(e,arguments)}};i=n(19),r=n(1),a=n(2),o=function(){function t(e,n,o,i){var a,u,l,c,p,h;for(this.ui=e,this.model=n,this.controlClasses=o,this.resolver=i,this.onChange=s(this.onChange,this),this.changed=s(this.changed,this),h=this.ui,this.refExpr=h.attr("ref"),this.id=null!=(c=h.attr("id"))?c:"echoforms-control-"+t.echoformsControlUniqueId++,this.relevantExpr=h.attr("relevant"),this.requiredExpr=h.attr("required"),this.readonlyExpr=h.attr("readonly"),this.label=h.attr("label"),p=h.children("help"),u=0,l=p.length;u<l;u++)a=p[u],this.help=r(a).text();this.loadConstraints(),this.el=this.buildDom()}return t.echoformsControlUniqueId=0,t.prototype.loadConstraints=function(){var t,e,n,o,a,s,u,l;for(this.constraints=[],this.requiredExpr&&(this.requiredConstraint=new i.Required(this.requiredExpr),this.constraints.push(this.requiredConstraint)),s=this.ui.find("> constraints > constraint"),u=[],t=0,e=s.length;t<e;t++)o=s[t],o=r(o),n=o.children("alert").text(),a=o.children("pattern"),l=o.children("xpath"),a.length>0&&this.constraints.push(new i.Pattern(a.text(),n)),l.length>0?u.push(this.constraints.push(new i.XPath(l.text(),n))):u.push(void 0);return u},t.prototype.required=function(){if(null!=this.requiredConstraint)return!this.requiredConstraint.check(void 0,this.model,this.resolver)},t.prototype.ref=function(){return null!=this.refExpr?r(this.xpath(this.refExpr)):this.model},t.prototype.refValue=function(){var t;try{return null!=this.refExpr?r.trim(this.ref().text()):void 0}catch(e){throw t=e,t+"<br/>Error found while accessing the model element associated with form ui control: ["+r("<div/>").text(this.ui[0].outerHTML).html()+"]."}},t.prototype.inputValue=function(){return a.warn(this.constructor.name+" must override inputValue")},t.prototype.loadFromModel=function(){},t.prototype.validate=function(){var t,e,n,r;return r=null==this.relevantExpr||!!this.xpath(this.relevantExpr),n=null!=this.readonlyExpr&&!!this.xpath(this.readonlyExpr),null!=this.relevantExpr&&this.relevant(r),null!=this.readonlyExpr&&this.readonly(n),e=function(){var e,n,r,o,i;for(r=this.constraints,i=[],e=0,n=r.length;e<n;e++)t=r[e],t.check(null!=(o=this.refValue())?o:this.inputValue(),this.model,this.resolver)||i.push(t.message);return i}.call(this),this.setErrors(e)},t.prototype.saveToModel=function(){},t.prototype.xpath=function(t){return a.execXPath(this.model,t,this.resolver)},t.prototype.element=function(){return null!=this.el?this.el:this.el=this.buildDom()},t.prototype.isChanged=function(t){return this.refValue()!==this.inputValue()||!this.refExpr},t.prototype.changed=function(){return this.el.trigger("echoforms:modelchange")},t.prototype.relevant=function(t){var e,n;return null==t?!this.el.hasClass("echoforms-irrelevant"):(e=!!t,e!==this.relevant()?(this.el.toggleClass("echoforms-irrelevant",!e),this.el.toggle(e),n=this.ref(),e?n[0].removeAttribute("pruned"):n[0].setAttribute("pruned","true")):void 0)},t.prototype.readonly=function(t){var e;return null==t?this.el.hasClass("echoforms-readonly"):(e=!!t,e!==this.readonly()?(this.el.toggleClass("echoforms-readonly ui-state-disabled",e),this.updateReadonly(e)):void 0)},t.prototype.updateReadonly=function(t){return this.inputs().attr("disabled",t),this.inputs().attr("readonly",t)},t.prototype.onChange=function(t){if(this.isChanged())return this.saveToModel(),this.changed()},t.prototype.buildLabelDom=function(){return null!=this.label?r("<label>",{class:"echoforms-label",for:this.id+"-element"}).text(this.label):r()},t.prototype.buildHelpDom=function(){var t,e,n,o,i;for(i=r("<div>",{class:"echoforms-help"}),o=this.ui.children("help"),e=0,n=o.length;e<n;e++)t=o[e],r("<p>",{class:"echoforms-help-item"}).text(r(t).text()).appendTo(i);return i},t.prototype.buildControlDom=function(){return r("<div>",{id:this.id,class:"echoforms-control echoforms-control-"+this.ui[0].nodeName})},t.prototype.buildElementsDom=function(){return r("<div>",{class:"echoforms-elements"})},t.prototype.buildErrorsDom=function(){return r("<div>",{class:"echoforms-errors"})},t.prototype.setErrors=function(t){var e,n,o,i,a;for(n=r(),o=0,i=t.length;o<i;o++)a=t[o],e=r('<div class="echoforms-error">'),e.text(a),n=n.add(e);return this.el.children(".echoforms-errors").empty().append(n)},t.prototype.buildDom=function(t){return null==t&&(t=null),this.buildControlDom().append(this.buildLabelDom()).append(this.buildElementsDom()).append(this.buildErrorsDom()).append(this.buildHelpDom())},t.prototype.addedToDom=function(){},t}(),t.exports=o},function(t,e,n){var r,o,i=function(t,e){function n(){this.constructor=t}for(var r in e)a.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty;o=n(4),r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return i(e,t),e.selector="input",e.prototype.inputClass="input",e.prototype.inputTag="input",e.prototype.inputElementType="text",e.prototype.inputAttrs=function(){var t;return t=e.__super__.inputAttrs.call(this),t.type=this.inputElementType,"datetime"===this.inputType&&(t.placeholder="YYYY-MM-DDTHH:MM:SS"),t},e}(o),t.exports=r},function(t,e,n){var r,o,i,a,s=function(t,e){function n(){this.constructor=t}for(var r in e)u.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},u={}.hasOwnProperty;r=n(1),o=n(6),a=n(2),i=function(t){function e(t,n,r,o){t.removeAttr("required"),e.__super__.constructor.call(this,t,n,r,o)}return s(e,t),e.prototype.inputs=function(){return r()},e.prototype.loadFromModel=function(){var t,n,r,o,i;for(e.__super__.loadFromModel.call(this),o=this.controls,i=[],n=0,r=o.length;n<r;n++)t=o[n],i.push(t.loadFromModel());return i},e.prototype.buildLabelDom=function(){return null!=this.label?r("<h1>",{class:"echoforms-label"}).text(this.label):r()},e.prototype.buildDom=function(){var t,n,o,i,s,u,l,c,p,h,f,d,v,m;for(v=e.__super__.buildDom.call(this).addClass("echoforms-grouping-control"),v.children(".echoforms-label").after(v.children(".echoforms-help")),o=this.ref(),o.length<1&&a.error("Could not find the model element associated with this group.  Verify that @ref ["+this.refExpr+"] is correct and that the namespace is set correctly"),m=this.ui,i=r(),this.controls=u=[],f=m.children(),l=0,p=f.length;l<p;l++)if(n=f[l],"help"!==n.nodeName&&"constraints"!==n.nodeName)for(d=this.controlClasses,c=0,h=d.length;c<h;c++)if(t=d[c],r(n).is(t.selector)){s=new t(r(n),o,this.controlClasses,this.resolver),u.push(s),i=i.add(s.el);break}return v.find(".echoforms-elements").replaceWith(r('<div class="echoforms-children">').append(i)),v},e.prototype.updateReadonly=function(t){var n,r,o,i,a;for(e.__super__.updateReadonly.call(this,t),i=this.controls,a=[],r=0,o=i.length;r<o;r++)n=i[r],a.push(n.updateReadonly(t));return a},e.prototype.validate=function(){var t,n,r,o,i;for(e.__super__.validate.call(this),o=this.controls,i=[],n=0,r=o.length;n<r;n++)t=o[n],i.push(t.validate());return i},e.prototype.addedToDom=function(){var t,n,r,o,i;for(e.__super__.addedToDom.call(this),o=this.controls,i=[],n=0,r=o.length;n<r;n++)t=o[n],i.push(t.addedToDom());return i},e}(o),t.exports=i},function(t,e,n){var r,o,i,a=function(t,e){function n(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},s={}.hasOwnProperty;r=n(1),i=n(4),o=function(t){function e(t,n,o,i){var a,s,u;this.isMultiple="true"===t.attr("multiple"),this.valueElementName=t.attr("valueElementName"),this.items=function(){var e,n,o,i,l;for(o=t.children("item"),l=[],e=0,n=o.length;e<n;e++)a=o[e],i=[r(a).attr("label"),r(a).attr("value")],s=i[0],u=i[1],""===r(a).attr("value")&&(this.hasBlankOption=!0),null!=s&&s.length>0||(s=u),l.push([s,u]);return l}.call(this),e.__super__.constructor.call(this,t,n,o,i)}return a(e,t),e.selector="select",e.prototype.inputTag="select",e.prototype.valueElementTagName=function(t){var e,n;return null==t&&(t=this.ref()),e=[this.valueElementName],/:/.test(t[0].nodeName)&&(n=t[0].nodeName.split(":").shift()),null!=n&&e.unshift(n),e.join(":")},e.prototype.refValue=function(){var t,n,o,i,a;if(null!=this.valueElementName&&null!=this.refExpr){for(i=this.ref().children(),a=[],n=0,o=i.length;n<o;n++)t=i[n],a.push(r(t).text());return a}return e.__super__.refValue.call(this)},e.prototype.saveToModel=function(){var t,n,o,i,a,s,u,l,c;if(null!=this.valueElementName&&null!=this.refExpr){for(u=this.ref().empty(),l=this.valueElementTagName(u),a=this.inputValue(),s=[],n=0,o=a.length;n<o;n++)c=a[n],t=document.createElementNS(u[0].namespaceURI,l),i=r(t).text(c),u.append(i),s.push(i[0].namespaceURI=u[0].namespaceURI);return s}return e.__super__.saveToModel.call(this)},e.prototype.loadFromModel=function(){var t,n;return null!=this.valueElementName&&null!=this.refExpr?(this.validate(),n=function(){var e,n,o,i;for(o=this.ref().children(),i=[],e=0,n=o.length;e<n;e++)t=o[e],i.push(r(t).text());return i}.call(this),this.isMultiple||(n=n[0]),this.inputs().val(n)):e.__super__.loadFromModel.call(this)},e.prototype.inputValue=function(){var t;return t=this.inputs().val(),null==this.valueElementName||t instanceof Array||(t=null!=t&&""!==t?[t]:[]),t},e.prototype.inputAttrs=function(){return r.extend(e.__super__.inputAttrs.call(this),{multiple:this.isMultiple})},e.prototype.hasModelVal=function(){return this.ref().children().length>0},e.prototype.buildElementsDom=function(){var t,n,o,i,a,s,u,l;for(u=e.__super__.buildElementsDom.call(this),t=u.children("select"),this.required()?this.hasBlankOption||this.hasModelVal()||t.append('<option value=""> -- Select a value -- </option>'):this.hasBlankOption||this.hasModelVal()||t.append('<option value=""> -- No Selection -- </option>'),a=this.items,n=0,i=a.length;n<i;n++)s=a[n],o=s[0],l=s[1],r("<option>",{value:l}).text(o).appendTo(t);return u},e}(i),t.exports=o},,function(t,e,n){var r,o,i,a=function(t,e){function n(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},s={}.hasOwnProperty;r=n(5),i=n(2),o=function(t){function e(t,n){var r,o,i;null==n&&(n=null),i=t.match(/^(?:[^:]+:)?(.*)$/),this.type=i?i[1]:t,o=function(){switch(this.type){case"double":return"number";case"long":return"integer between -2^63 and 2^63-1";case"int":return"integer between -2,147,483,648 and 2,147,483,647";case"short":return"integer between -32,768 and 32,767";case"datetime":return"date/time with format YYYY-MM-DDTHH:MM:SS";case"boolean":return"true or false";default:return this.type}}.call(this),r=/^[aeiou]/i.test(o)?"an":"a",e.__super__.constructor.call(this,null!=n?n:"Value must be "+r+" "+o)}return a(e,t),e.MIN_SHORT=-Math.pow(2,15),e.MAX_SHORT=Math.pow(2,15)-1,e.MIN_INT=-Math.pow(2,31),e.MAX_INT=Math.pow(2,31)-1,e.MIN_LONG=-Math.pow(2,63),e.MAX_LONG=Math.pow(2,63)-1,e.prototype.check=function(t,e,n){if(!t)return!0;switch(this.type){case"string":return!0;case"anyuri":return!0;case"double":return this.checkDouble(t);case"long":return this.checkLong(t);case"int":return this.checkInt(t);case"short":return this.checkShort(t);case"datetime":return this.checkDateTime(t);case"boolean":return this.checkBoolean(t);default:return i.warn("Unable to validate type: ",this.type),!0}},e.prototype._checkIntegerRange=function(t,e,n){var r;return r=Number(n),!isNaN(r)&&r>=t&&r<=e&&n.indexOf(".")===-1},e.prototype.checkDouble=function(t){return!isNaN(Number(t))},e.prototype.checkLong=function(t){return this._checkIntegerRange(e.MIN_LONG,e.MAX_LONG,t)},e.prototype.checkInt=function(t){return this._checkIntegerRange(e.MIN_INT,e.MAX_INT,t)},e.prototype.checkShort=function(t){return this._checkIntegerRange(e.MIN_SHORT,e.MAX_SHORT,t)},e.prototype.checkBoolean=function(t){return"true"===t||"false"===t},e.prototype.checkDateTime=function(t){var e,n,r,o,i,a,s,u,l,c,p,h;return!!t.match(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$/)&&(a=t.split("T"),e=a[0],p=a[1],s=function(){var t,n,r,o;for(r=e.split("-"),o=[],t=0,n=r.length;t<n;t++)c=r[t],o.push(parseInt(c,10));return o}(),h=s[0],i=s[1],n=s[2],u=function(){var t,e,n,r;for(n=p.split(":"),r=[],t=0,e=n.length;t<e;t++)c=n[t],r.push(parseInt(c,10));return r}(),r=u[0],o=u[1],l=u[2],1<=i&&i<=12&&1<=n&&n<=31&&r<24&&o<60&&l<60)},e}(r),t.exports=o},function(t,e,n){var r,o,i,a=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};r=n(1),i=n(2),o=function(){function t(e,n,o,i,a,s,u){var l;this.separator=s,this.label=r(e).attr("label"),this.value=r(e).attr("value"),this.relevantExpr=r(e).attr("relevant"),this.requiredExpr=r(e).attr("required"),this.model=n,this.resolver=i,null!=this.label&&this.label.length>0||(this.label=this.value),null!=s&&s.length>0&&(this.value=a+this.separator+this.value),this.ui=e,this.tree=u,this.items=function(){var a,s,c,p;for(c=e.children("item"),p=[],a=0,s=c.length;a<s;a++)l=c[a],p.push(new t(r(l),n,o,i,this.value,this.separator,u));return p}.call(this),this.start=new Date}return t.selector="item",t.prototype.inputTag="li",t.prototype.xpath=function(t){return i.execXPath(this.model,t,this.resolver)},t.prototype.node_required=function(){return!(null==this.requiredExpr||!this.xpath(this.requiredExpr))},t.prototype.node_relevant=function(){return null==this.relevantExpr||!!this.xpath(this.relevantExpr)},t.prototype.handle_relevant_or_required=function(t){var e,n,r,o,i;if(o=this.tree.tree_root,e=o.find("[node_value = '"+this.value+"']"),e.attr("item-required",this.node_required()),e.attr("item-relevant",this.node_relevant()),i=!1,r=e.find("span.echoforms-help"),"true"===o.jstree("is_disabled",e).toString()&&(i=!0),r.find(".not-available-or-required-text").remove(),e.find("a.jstree-anchor > i.jstree-icon").first().addClass("jstree-checkbox").removeClass("jstree-disabled-icon").removeClass("jstree-required-icon"),e&&(n=t[e.attr("id")]),this.node_relevant()){if(this.node_required()){if(this.addNotAvailableRequiredText(r,"[required]"),o.jstree("enable_node",e),o.jstree("check_node",e),e.find("a").css("font-style","italic"),e.find("a.jstree-anchor > i.jstree-checkbox").addClass("jstree-required-icon").removeClass("jstree-checkbox"),"false"===(null!=n?n.li_attr["item-required"]:void 0))return n.li_attr["conditionally-required"]="true",n.li_attr["item-required"]="true",n.state.disabled=!1,n.state.selected=!0}else if(o.jstree("enable_node",e),e.find("a").css("font-style","normal"),"true"===(null!=n?n.li_attr["conditionally-required"]:void 0)&&(n.li_attr["item-required"]="false",n.state.selected=!1),e.find("a.jstree-anchor > i.jstree-icon").first().addClass("jstree-checkbox").removeClass("jstree-disabled-icon").removeClass("jstree-required-icon"),i)return o.jstree("select_node",e),n.li_attr["item-relevant"]="true",n.li_attr["conditionally-relevant"]="true",n.state.selected=!0,n.state.disabled=!1}else if(this.addNotAvailableRequiredText(r,"[not available]"),o.jstree("disable_node",e),e.find("a").css("font-style","italic"),e.find("a.jstree-anchor > i.jstree-icon").first().addClass("jstree-disabled-icon").removeClass("jstree-checkbox"),"true"===(null!=n?n.li_attr["conditionally-relevant"]:void 0))return n.li_attr["item-relevant"]="false",n.state.selected=!1,n.state.disabled=!0},t.prototype.subtree_handle_relevant_or_required=function(t){var e,n,r,o,i;for(this.handle_relevant_or_required(t),o=this.items,i=[],n=0,r=o.length;n<r;n++)e=o[n],i.push(e.subtree_handle_relevant_or_required(t));return i},t.prototype.buildHelpDom=function(){var t,e,n,o,i;for(i=r("<span>",{class:"echoforms-help"}),o=this.ui.children("help"),e=0,n=o.length;e<n;e++)t=o[e],this.addHelpText(i,r(t).text());return i},t.prototype.addNotAvailableRequiredText=function(t,e){return this.addHelpText(t,e).addClass("not-available-or-required-text")},t.prototype.addHelpText=function(t,e){return r("<span>",{class:"echoforms-help-item"}).text(e).attr({title:e}).appendTo(t)},t.prototype.buildElementsDom=function(){var t,e,n,o,i,s,u,l;return n=r("<li>"),n.attr({node_value:this.value}),n.addClass("jstree-open"),o=this.buildHelpDom(),e={},u=this.tree.modelValues(),u.length>0&&(l=this.value,a.call(u,l)>=0)&&(e.selected=!0),this.node_relevant()||(e.disabled=!0,e.selected=!0,this.addNotAvailableRequiredText(o,"[not available]")),this.node_required()&&(e.selected=!0,this.addNotAvailableRequiredText(o,"[required]")),n.attr({"item-relevant":this.node_relevant()}),n.attr({"item-required":this.node_required()}),Object.keys(e).length>0&&n.attr({"data-jstree":JSON.stringify(e)}),n.text(this.label),n.append(o),t=r("<ul>"),i=0,s=this.items,function(){var e,n,r,o,a,u,l,c;for(c=(new Date).getTime(),l=[],n=r=a=i,u=s.length-1;r<=u&&(e=s[n],null!=e);n=r+=1)o=e.buildElementsDom(),o.appendTo(t),i<s.length-1&&(new Date).getTime()-c>40?(console.log("TreeItem construction yielding to browser to avoid unresponsive script"),l.push(postMessage("script-timeout-message","*"))):l.push(void 0);return l}(),this.items.length>0&&t.appendTo(n),n},t}(),t.exports=o},function(t,e,n){var r,o;r={Checkbox:n(23),Input:n(7),UrlOutput:n(31),Output:n(14),Select:n(9),Range:n(15),Secret:n(28),Textarea:n(30),Group:n(27),Select:n(9),Selectref:n(29),Base:n(6),Typed:n(4),Grouping:n(8)},o=[r.Checkbox,r.Input,r.UrlOutput,r.Output,r.Select,r.Range,r.Secret,r.Group,r.Select,r.Selectref,r.Textarea],t.exports={matchList:o,classes:r,extras:{RangeSlider:n(24),Tree:n(25),TreeItem:n(12)}}},function(t,e,n){var r,o,i,a=function(t,e){function n(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},s={}.hasOwnProperty;r=n(1),i=n(4),o=function(t){function e(t,n,r,o){this.valueExpr=t.attr("value"),e.__super__.constructor.call(this,t,n,r,o)}return a(e,t),e.selector="output",e.prototype.inputTag="p",e.prototype.inputs=function(){return r()},e.prototype.inputAttrs=function(){var t;return t=e.__super__.inputAttrs.call(this),delete t.autocomplete,t},e.prototype.refValue=function(){return this.valueExpr?this.xpath(this.valueExpr):e.__super__.refValue.call(this)},e.prototype.loadFromModel=function(){var t;try{if(e.__super__.loadFromModel.call(this),this.refExpr||this.valueExpr)return this.el.find(".echoforms-elements > p").text(this.refValue())}catch(e){throw t=e,t+"<br/>Error found while setting initial value of output control: ["+r("<div/>").text(this.ui[0].outerHTML).html()+"]."}},e}(i),t.exports=o},function(t,e,n){var r,o,i=function(t,e){function n(){this.constructor=t}for(var r in e)a.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty;r=n(7),o=function(t){function e(t,n,r,o){this.start=parseInt(t.attr("start"),10),this.end=parseInt(t.attr("end"),10),this.step=parseInt(t.attr("step"),10),e.__super__.constructor.call(this,t,n,r,o)}return i(e,t),e.selector="range",e}(r),t.exports=o},function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e];n[2]?t.push("@media "+n[2]+"{"+n[1]+"}"):t.push(n[1])}return t.join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<e.length;o++){var a=e[o];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(t,e,n){function r(t,e){for(var n=0;n<t.length;n++){var r=t[n],o=p[r.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](r.parts[i]);for(;i<r.parts.length;i++)o.parts.push(s(r.parts[i],e))}else{for(var a=[],i=0;i<r.parts.length;i++)a.push(s(r.parts[i],e));p[r.id]={id:r.id,refs:1,parts:a}}}}function o(t){for(var e=[],n={},r=0;r<t.length;r++){var o=t[r],i=o[0],a=o[1],s=o[2],u=o[3],l={css:a,media:s,sourceMap:u};n[i]?n[i].parts.push(l):e.push(n[i]={id:i,parts:[l]})}return e}function i(){var t=document.createElement("style"),e=d();return t.type="text/css",e.appendChild(t),t}function a(){var t=document.createElement("link"),e=d();return t.rel="stylesheet",e.appendChild(t),t}function s(t,e){var n,r,o;if(e.singleton){var s=m++;n=v||(v=i()),r=u.bind(null,n,s,!1),o=u.bind(null,n,s,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=a(),r=c.bind(null,n),o=function(){n.parentNode.removeChild(n),n.href&&URL.revokeObjectURL(n.href)}):(n=i(),r=l.bind(null,n),o=function(){n.parentNode.removeChild(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else o()}}function u(t,e,n,r){var o=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=g(e,o);else{var i=document.createTextNode(o),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(i,a[e]):t.appendChild(i)}}function l(t,e){var n=e.css,r=e.media;e.sourceMap;if(r&&t.setAttribute("media",r),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function c(t,e){var n=e.css,r=(e.media,e.sourceMap);r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var o=new Blob([n],{type:"text/css"}),i=t.href;t.href=URL.createObjectURL(o),i&&URL.revokeObjectURL(i)}var p={},h=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},f=h(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),d=h(function(){return document.head||document.getElementsByTagName("head")[0]}),v=null,m=0;t.exports=function(t,e){e=e||{},"undefined"==typeof e.singleton&&(e.singleton=f());var n=o(t);return r(n,e),function(t){for(var i=[],a=0;a<n.length;a++){var s=n[a],u=p[s.id];u.refs--,i.push(u)}if(t){var l=o(t);r(l,e)}for(var a=0;a<i.length;a++){var u=i[a];if(0===u.refs){for(var c=0;c<u.parts.length;c++)u.parts[c]();delete p[u.id]}}}};var g=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},function(t,e){t.exports={pluginName:"echoforms"}},function(t,e,n){t.exports={Pattern:n(20),Required:n(21),Type:n(11),XPath:n(22)}},function(t,e,n){var r,o,i=function(t,e){function n(){this.constructor=t}for(var r in e)a.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty;r=n(5),o=function(t){function e(t,n){this.pattern=new RegExp("^"+t+"$"),e.__super__.constructor.call(this,null!=n?n:"Invalid")}return i(e,t),e.prototype.check=function(t,e,n){return!t||t instanceof Array&&0===t.length||null!==this.pattern.exec(t)},e}(r),t.exports=o},function(t,e,n){var r,o,i,a=function(t,e){function n(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},s={}.hasOwnProperty;r=n(5),i=n(2).execXPath,o=function(t){function e(t,n){this.xpath=t,null==n&&(n="Required field"),e.__super__.constructor.call(this,n)}return a(e,t),e.prototype.check=function(t,e,n){return t instanceof Array&&0===t.length&&(t=null),!!t||!i(e,this.xpath,n)},e}(r),t.exports=o},function(t,e,n){var r,o,i,a=function(t,e){function n(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,
t.prototype=new n,t.__super__=e.prototype,t},s={}.hasOwnProperty;r=n(5),i=n(2).execXPath,o=function(t){function e(t,n){this.xpath=t,e.__super__.constructor.call(this,null!=n?n:"Invalid")}return a(e,t),e.prototype.check=function(t,e,n){return i(e,this.xpath,n)},e}(r),t.exports=o},function(t,e,n){var r,o,i=function(t,e){function n(){this.constructor=t}for(var r in e)a.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty;o=n(7),r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return i(e,t),e.selector="input[type$=boolean]",e.prototype.inputClass="checkbox",e.prototype.inputElementType="checkbox",e.prototype.inputValue=function(){return this.inputs()[0].checked.toString()},e.prototype.loadFromModel=function(){if(e.__super__.loadFromModel.call(this),this.refExpr)return this.inputs()[0].checked="true"===this.refValue()},e.prototype.buildDom=function(){var t;return t=e.__super__.buildDom.call(this),t.addClass("echoforms-control-checkbox"),t.children(".echoforms-elements").after(t.children(".echoforms-label")),t},e}(o),t.exports=r},function(t,e,n){var r,o,i,a=function(t,e){function n(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},s={}.hasOwnProperty;r=n(1),o=n(15),i=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return a(e,t),e.selector="range",e.prototype.loadFromModel=function(){return e.__super__.loadFromModel.call(this),this.inputs().change()},e.prototype.addedToDom=function(){var t;return e.__super__.addedToDom.call(this),t=this.inputs(),r("<div/>").addClass("slider-output").insertAfter(t),t.bind("slider:ready slider:changed",function(e,n){return r(this).nextAll(".slider-output").html(t.val())}),t.simpleSlider({snap:!0,range:[this.start,this.end],step:this.step,classPrefix:"echoforms"})},e}(o),t.exports=i},function(t,e,n){var r,o,i,a,s,u=function(t,e){function n(){this.constructor=t}for(var r in e)l.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},l={}.hasOwnProperty,c=[].slice;r=n(1),s=n(4),a=n(12),o=n(6),i=function(t){function e(t,n,i,s){var u,l;u=t.attr("id"),u&&"control"!==u&&(u+="-"+o.echoformsControlUniqueId++,t.attr("id",u)),this.separator=t.attr("separator"),this.cascade=null==t.attr("cascade")||"true"===t.attr("cascade"),this.valueElementName=t.attr("valueElementName")||"value",this.simplify_output=null==t.attr("simplify_output")||"true"===t.attr("simplify_output"),this.items=function(){var e,o,u,c;for(u=t.children("item"),c=[],e=0,o=u.length;e<o;e++)l=u[e],c.push(new a(r(l),n,i,s,"",this.separator,this));return c}.call(this),e.__super__.constructor.call(this,t,n,i,s)}return u(e,t),e.selector="tree",e.prototype.inputTag="div",e.prototype.validate=function(){var t,n,r,o,i;for(e.__super__.validate.call(this),t=this.tree_root.jstree("get_json","#",{flat:!0}).map(function(t){return function(e){return t.tree_root.jstree("get_node",e.id)}}(this)).reduce(function(t,e){return t[e.id]=e,t},{}),i=this.items,r=0,o=i.length;r<o;r++)n=i[r],n.subtree_handle_relevant_or_required(t);if(null!=this.el)return this.saveToModel()},e.prototype.valueElementTagName=function(t){var e,n;return null==t&&(t=this.ref()),e=[this.valueElementName],/:/.test(t[0].nodeName)&&(n=t[0].nodeName.split(":").shift()),null!=n&&e.unshift(n),e.join(":")},e.prototype.refValue=function(){var t,n,o,i,a;if(null!=this.valueElementName&&null!=this.refExpr){for(i=this.ref().children(),a=[],n=0,o=i.length;n<o;n++)t=i[n],a.push(r(t).text());return a}return e.__super__.refValue.call(this)},e.prototype.saveToModel=function(){var t,n,o,i,a,s,u,l,c;if(null!=this.valueElementName&&null!=this.refExpr){for(u=this.ref().empty(),l=this.valueElementTagName(u),a=this.inputValue(),s=[],n=0,o=a.length;n<o;n++)c=a[n],t=document.createElementNS(u[0].namespaceURI,l),i=r(t).text(c),u.append(i),s.push(i[0].namespaceURI=u[0].namespaceURI);return s}return e.__super__.saveToModel.call(this)},e.prototype.loadFromModel=function(){},e.prototype.modelValues=function(){var t,e;return null!=this.valueElementName&&null!=this.refExpr?e=function(){var e,n,o,i;for(o=this.ref().children(),i=[],e=0,n=o.length;e<n;e++)t=o[e],i.push(r(t).text());return i}.call(this):[]},e.prototype.inputs=function(){return this.el.find("div.jstree")},e.prototype.inputValue=function(){var t,e,n,r,o,i;return t=this.inputs().jstree("get_json","#",{flat:!0}).map(function(t){return function(e){return t.inputs().jstree("get_node",e.id)}}(this)),e=t.filter(function(t){var e;return t.state.selected&&(null!=(e=t.li_attr.node_value)?e.length:void 0)>0&&"true"===t.li_attr["item-relevant"]}),o=t.filter(function(t){var e;return"true"===t.li_attr["item-relevant"]&&"true"===t.li_attr["item-required"]&&(null!=(e=t.li_attr.node_value)?e.length:void 0)>0&&0===t.children.length}),n=this._removeDupNodes(c.call(e).concat(c.call(o))),this.simplify_output&&(i=n.filter(function(t){return 0===t.children.length&&t.state.selected||"true"===t.li_attr["item-required"]}),r=n.filter(function(t){return function(e){var n;return n=e.children.filter(function(e){var n,r,o;return n=t.inputs().jstree("get_node",e),o=n.state.selected&&"true"===n.li_attr["item-relevant"],r=t._hasIrrelevantDescendants(n),o&&!r}),e.children.length>0&&n.length===e.children.length}}(this)),n=c.call(i).concat(c.call(r)).filter(function(t){return function(e){var n,r,o,i,a,s;if(o=t.inputs().jstree("get_node",e.parent),"#"===o.id)return!0;if(!o.state.selected)return!0;for(i=o.children,n=0,r=i.length;n<r;n++)if(s=i[n],s!==e.id)return a=t.inputs().jstree("get_node",s),!a.state.selected||("true"!==a.li_attr["item-relevant"]||t._hasIrrelevantDescendants(a));return!1}}(this))),n=this._removeDupNodes(n),n.map(function(t){return t.li_attr.node_value})},e.prototype._hasIrrelevantDescendants=function(t){var e,n,r,o,i;for(i=t.children,r=0,o=i.length;r<o;r++){if(n=i[r],e=this.inputs().jstree("get_node",n),0!==e.children.length)return this._hasIrrelevantDescendants(e);if("false"===e.li_attr["item-relevant"])return!0}return!1},e.prototype._removeDupNodes=function(t){var e,n,r,o,i,a;for(o={},n=e=0,r=t.length;0<=r?e<r:e>r;n=0<=r?++e:--e)o[t[n].id]=t[n];i=[];for(n in o)a=o[n],i.push(a);return i},e.prototype.inputAttrs=function(){return r.extend(e.__super__.inputAttrs.call(this),{separator:this.separator,cascade:this.cascade})},e.prototype.buildElementsDom=function(){var t,n,o,i,a,s,u,l,c,p;return l=(new Date).getTime(),a=e.__super__.buildElementsDom.call(this),s=a.children("div"),s.addClass("jstree"),s.append("<ul>"),p=s.children("ul"),o=0,i=this.items,function(){var t,e,n,r,a,s,u;for(u=[],e=n=a=o,s=i.length-1;n<=s&&(t=i[e],null!=t);e=n+=1)r=t.buildElementsDom(),r.appendTo(p),o<i.length-1&&(new Date).getTime()-l>40?(console.log("Tree construction yielding to browser to avoid unresponsive script"),u.push(setTimeout(arguments.callee,0))):u.push(void 0);return u}(),c=!1,t="bands-count-"+r(".bands-count").length,n="bands-filter-"+r(".bands-filter").length,u="selected-bands-count-"+r(".selected-bands-count").length,s.jstree({checkbox:{keep_selected_style:!1,three_state:this.cascade},search:{fuzzy:!1},plugins:["checkbox","search"]}).on("ready.jstree",function(){var e,r,o;return r=s.find("li").first().attr("id"),s.jstree("close_all").jstree("open_node",r),o=s.jstree("get_json","#",{flat:!0}).length,e=s.jstree("get_checked").length,s.prepend('<i class="jstree-spinner fa fa-spinner fa-spin fa-fw" style="display: none"></i>'),s.prepend("<div id='"+t+"' class='bands-count'><span id='"+u+"' class='selected-bands-count'>"+e+" of "+o+"</span> bands selected</div>"),s.prepend("<input id='"+n+"' class='bands-filter' placeholder='Filter bands here'></input>")}).on("changed.jstree",function(){var e,n;return n=s.jstree("get_json","#",{flat:!0}).length,e=s.jstree("get_checked").length,r("#"+t).html("<div id='"+t+"' class='bands-count'><span id='"+u+"' class='selected-bands-count'>"+e+" of "+n+"</span> bands selected</div>")}).on("keyup","#"+n,function(){return c&&clearTimeout(c),c=setTimeout(function(){var t;if(t=r("#"+n).val(),t.length>1)return s.jstree("search",t)},250)}).on("before_open.jstree",function(){return r(".jstree-spinner").show()}).on("after_open.jstree",function(){return r(".jstree-spinner").hide()}),this.tree_root=s,a},e}(s),t.exports=i},function(t,e,n){var r,o,i,a=function(t,e){function n(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},s={}.hasOwnProperty;o=n(8),i=n(2),r=function(t){function e(t,n,r,o){e.__super__.constructor.call(this,t,n,r,o),this.el.bind("echoforms:modelchange",function(t){return function(){return t.loadFromModel(),t.validate()}}(this)),this.loadFromModel(),this.validate()}return a(e,t),e.prototype.ref=function(){return this.model.children()},e.prototype.isValid=function(){return 0===this.el.find(".echoforms-error:visible").length},e.prototype.serialize=function(t){var e;return null==t&&(t={}),e=this.model.children().clone(),null!=t.prune&&t.prune!==!0||e.find("*[pruned=true]").remove(),null!=t.prune&&t.prune!==!0||e.find("*:hasNoValue").remove(),i.printDOMToString(e[0])},e}(o),t.exports=r},function(t,e,n){var r,o,i=function(t,e){function n(){this.constructor=t}for(var r in e)a.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty;o=n(8),r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return i(e,t),e.selector="group",e}(o),t.exports=r},function(t,e,n){var r,o,i=function(t,e){function n(){this.constructor=t}for(var r in e)a.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty;r=n(7),o=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return i(e,t),e.selector="secret",e.prototype.inputElementType="password",e}(r),t.exports=o},function(t,e,n){var r,o,i=function(t,e){function n(){this.constructor=t}for(var r in e)a.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty;r=n(9),o=function(t){function e(t,n,r,o){var i;i=t.attr("valueElementName"),null==i&&t.attr("valueElementName","value"),e.__super__.constructor.call(this,t,n,r,o)}return i(e,t),e.selector="selectref",e.prototype.buildDom=function(){return e.__super__.buildDom.call(this).addClass("echoforms-control-select")},e}(r),t.exports=o},function(t,e,n){var r,o,i=function(t,e){function n(){this.constructor=t}for(var r in e)a.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty;o=n(4),r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return i(e,t),e.selector="textarea",e.prototype.inputTag="textarea",e}(o),t.exports=r},function(t,e,n){var r,o,i=function(t,e){function n(){this.constructor=t}for(var r in e)a.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty;r=n(14),o=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return i(e,t),e.selector="output[type$=anyURI], output[type$=anyuri]",e.prototype.inputTag="a",e.prototype.inputAttrs=function(){var t;return t=e.__super__.inputAttrs.call(this),t.href="#",t},e.prototype.loadFromModel=function(){var t;if(t=this.refValue(),this.refExpr||this.valueExpr)return this.el.find(".echoforms-elements > a").text(t).attr("href",t)},e}(r),t.exports=o},function(t,e,n){(function(e){var r,o,i,a,s,u,l;r=n(1),l=n(2),a=n(13),i=n(26),e.expr[":"].hasNoValue=function(t){return 0===e.trim(e(t).text()).length},s=a.matchList.concat(),u={controls:[]},o=function(){function t(t,e){var n,o,a,c,p,h,f,d,v,m,g,y,x,b,_,w;this.root=t;try{if(this.options=r.extend({},u,e),this.form=d=this.options.form,this.controlClasses=n=this.options.controls.concat(s),null==d&&l.error("You must specify a 'form' option when creating a new ECHO Forms instance"),this.resolver=b=l.buildXPathResolverFn(d),this.doc=o=r(l.parseXML(d)),this.model=g=o.find("form > model > instance"),y=this.options.prepopulate)for(f=o.find('form > model > extension[name="pre:prepopulate"] pre\\:expression'),h=o.find('form > model > extension[name="pre:prepopulate"] expression'),p=f.length>h.length?f:h,v=0,m=p.length;v<m;v++)c=p[v],_=c.getAttribute("source"),y.hasOwnProperty(_)&&(x=c.getAttribute("ref"),r(l.execXPath(g.children(),x,b)).text(y[_]));this.ui=w=o.find("form > ui"),this.control=new i(w,g,n,b),this.root.append(this.control.element()),this.control.addedToDom()}catch(t){throw a=t,l.error(a),a}}return t.registerControl=function(t,e){return null==e&&(e={}),s.unshift(t)},t.prototype.destroy=function(){return this.root.empty()},t.prototype.isValid=function(){return this.control.isValid()},t.prototype.serialize=function(t){return this.control.serialize(t)},t}(),t.exports=o}).call(e,n(1))},function(t,e,n){t.exports=n(34)},function(t,e,n){var r,o,i,a,s,u=[].slice;r=n(1),s=n(2),i=n(13),a=n(18).pluginName,o=n(32),r[a]={control:function(t,e){return null==e&&(e={}),o.registerControl(t),e.export&&(r[a].controls[t.name]=t),this},controls:r.extend({},i.classes),extras:r.extend({},i.extras)},r.fn[a]=function(){var t,e,n,i;return t=1<=arguments.length?u.call(arguments,0):[],t.length>0&&"string"==typeof t[0]?(n=t,e=n[0],t=2<=n.length?u.call(n,1):[],i=this.map(function(){var n,o,i,l;return o=r.data(this,a),o?/^debug_/.test(e)?(i=e.split("_"),l=i[0],n=2<=i.length?u.call(i,1):[],o[n.join("_")]):"destroy"!==e?/^_/.test(e)||"function"!=typeof(null!=o?o[e]:void 0)?(s.error("Could not call "+e+" on "+a+" instance:",this),null):o[e].apply(o,t):(r.removeData(this,a),"function"==typeof(null!=o?o.destroy:void 0)?o.destroy():void 0):(s.warn(a+" not found on instance"),this)}),i[0]):t.length<2?this.each(function(){var e;if(e=t[0],null==r.data(this,a))return r.data(this,a,new o(r(this),e))}):(s.error("Bad arguments to "+a+":",t),this)}},function(t,e,n){e=t.exports=n(16)(),e.push([t.id,".echoforms-control-ui{color:#222;font-family:Helvetica,Arial,sans-serif;border-left:11em solid #f8f8f8}.echoforms-control-ui>.echoforms-children{margin-left:-11em}.echoforms-control-ui p{margin-top:0;margin-bottom:0}.echoforms-control{clear:both;padding:.7em 0}.echoforms-control>.echoforms-elements,.echoforms-control>.echoforms-help>.echoforms-help-item,.echoforms-control>.echoforms-label{display:block;padding-top:.2em;padding-bottom:.2em}.echoforms-typed-control>*{margin-left:11em;padding-left:1em}.echoforms-typed-control>.echoforms-label{box-sizing:border-box;float:left;margin-left:0;width:11em;padding:.3em .5em .2em;text-align:right}.echoforms-control-group{border:solid #888;border-width:1px 0}.echoforms-control-group>.echoforms-label{background-color:#e0e0e0;margin:0;padding:1em}.echoforms-control-group>.echoforms-help>.echoforms-help-item{background-color:#eee;padding:.5em 1em;color:#222}.echoforms-control-group:first-child{border-top-width:0}.echoforms-control-group:last-child{border-bottom-width:0}.echoforms-control-checkbox>.echoforms-elements,.echoforms-control-checkbox>.echoforms-label{display:inline;float:none}.echoforms-control-tree .echoforms-help{position:absolute;margin-left:10px}.echoforms-control-tree .echoforms-help>.echoforms-help-item{text-overflow:ellipsis;width:500px;white-space:nowrap;overflow:hidden}.echoforms-control-output>.echoforms-elements{padding-top:.3em;padding-bottom:.2em}.echoforms-error{color:#b94a48}.echoforms-help-item{color:#3a87ad;font-style:italic}.jstree-disabled-icon,.jstree-required-icon{background-image:url("+n(3)+");background-repeat:no-repeat;background-color:transparent}.jstree-required-icon{background-position:-3px -67px}.jstree-disabled-icon{background-position:-36px -68px}.slider{float:left;width:30em;margin-right:1em!important}.slider>.dragger{background:#8dca09;background:-webkit-linear-gradient(top,#8dca09,#72a307);background:linear-gradient(top,#8dca09,#72a307);box-shadow:inset 0 2px 2px hsla(0,0%,100%,.5),0 2px 8px rgba(0,0,0,.2);border-radius:10px;border:1px solid #496805;width:1pc;height:1pc}.slider>.dragger:hover{background:-webkit-linear-gradient(top,#8dca09,#8dca09)}.slider>.track{background:#ccc;background:-webkit-linear-gradient(top,#bbb,#ddd);background:linear-gradient(top,#bbb,#ddd);box-shadow:inset 0 2px 4px rgba(0,0,0,.1);border-radius:8px;border:1px solid #aaa;height:4px}",""])},,function(t,e,n){var r=n(35);"string"==typeof r&&(r=[[t.id,r,""]]);n(17)(r,{});r.locals&&(t.exports=r.locals)},,function(t,e){t.exports=window},,function(t,e,n){(function(e){t.exports=e.wgxpath=n(49)}).call(e,function(){return this}())},,,,,,,,function(t,e){!function(){function t(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&"undefined"!=typeof t.splice&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof t.call&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&"undefined"==typeof t.call)return"object";return e}function e(t){return"string"==typeof t}function n(t,e,n){return t.call.apply(t.bind,arguments)}function r(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function o(t,e,i){return o=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?n:r,o.apply(null,arguments)}function i(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function a(t){function e(){}var n=U;e.prototype=n.prototype,t.v=n.prototype,t.prototype=new e}function s(){return qt.navigator?qt.navigator.userAgent:null}function u(){var t=qt.document;return t?t.documentMode:void 0}function l(t){if(!Kt[t]){for(var e=0,n=String(Ft).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),r=String(t).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),o=Math.max(n.length,r.length),i=0;0==e&&i<o;i++){var a=n[i]||"",s=r[i]||"",u=RegExp("(\\d*)(\\D*)","g"),l=RegExp("(\\d*)(\\D*)","g");do{var c=u.exec(a)||["","",""],p=l.exec(s)||["","",""];if(0==c[0].length&&0==p[0].length)break;e=((0==c[1].length?0:parseInt(c[1],10))<(0==p[1].length?0:parseInt(p[1],10))?-1:(0==c[1].length?0:parseInt(c[1],10))>(0==p[1].length?0:parseInt(p[1],10))?1:0)||((0==c[2].length)<(0==p[2].length)?-1:(0==c[2].length)>(0==p[2].length)?1:0)||(c[2]<p[2]?-1:c[2]>p[2]?1:0)}while(0==e)}Kt[t]=0<=e}}function c(t,e,n,r){this.a=t,this.nodeName=n,this.nodeValue=r,this.nodeType=2,this.parentNode=this.ownerElement=e}function p(t,e){var n=ee&&"href"==e.nodeName?t.getAttribute(e.nodeName,2):e.nodeValue;return new c(e,t,e.nodeName,n)}function h(t,n){var r;t:{r=t.length;for(var o=e(t)?t.split(""):t,i=0;i<r;i++)if(i in o&&n.call(void 0,o[i],i,t)){r=i;break t}r=-1}return 0>r?null:e(t)?t.charAt(r):t[r]}function f(t){return ne.concat.apply(ne,arguments)}function d(t,e,n){return 2>=arguments.length?ne.slice.call(t,e):ne.slice.call(t,e,n)}function v(t){var e=null,n=t.nodeType;if(1==n&&(e=t.textContent,e=void 0==e||null==e?t.innerText:e,e=void 0==e||null==e?"":e),"string"!=typeof e)if(te&&"title"==t.nodeName.toLowerCase()&&1==n)e=t.text;else if(9==n||1==n){t=9==n?t.documentElement:t.firstChild;for(var n=0,r=[],e="";t;){do 1!=t.nodeType&&(e+=t.nodeValue),te&&"title"==t.nodeName.toLowerCase()&&(e+=t.text),r[n++]=t;while(t=t.firstChild);for(;n&&!(t=r[--n].nextSibling););}}else e=t.nodeValue;return""+e}function m(t,e,n){if(null===e)return!0;try{if(!t.getAttribute)return!1}catch(t){return!1}return ee&&"class"==e&&(e="className"),null==n?!!t.getAttribute(e):t.getAttribute(e,2)==n}function g(t,n,r,o,i){return(te?y:x).call(null,t,n,e(r)?r:null,e(o)?o:null,i||new C)}function y(t,e,n,r,o){if(t instanceof ht||8==t.b||n&&null===t.b){var i=e.all;if(!i)return o;if(t=E(t),"*"!=t&&(i=e.getElementsByTagName(t),!i))return o;if(n){for(var a=[],s=0;e=i[s++];)m(e,n,r)&&a.push(e);i=a}for(s=0;e=i[s++];)"*"==t&&"!"==e.tagName||I(o,e);return o}return w(t,e,n,r,o),o}function x(t,e,n,r,o){return e.getElementsByName&&r&&"name"==n&&!Yt?(e=e.getElementsByName(r),oe(e,function(e){t.a(e)&&I(o,e)})):e.getElementsByClassName&&r&&"class"==n?(e=e.getElementsByClassName(r),oe(e,function(e){e.className==r&&t.a(e)&&I(o,e)})):t instanceof Z?w(t,e,n,r,o):e.getElementsByTagName&&(e=e.getElementsByTagName(t.c()),oe(e,function(t){m(t,n,r)&&I(o,t)})),o}function b(t,e,n,r,o){var i;if((t instanceof ht||8==t.b||n&&null===t.b)&&(i=e.childNodes)){var a=E(t);return"*"==a||(i=ie(i,function(t){return t.tagName&&t.tagName.toLowerCase()==a}))?(n&&(i=ie(i,function(t){return m(t,n,r)})),oe(i,function(t){"*"==a&&("!"==t.tagName||"*"==a&&1!=t.nodeType)||I(o,t)}),o):o}return _(t,e,n,r,o)}function _(t,e,n,r,o){for(e=e.firstChild;e;e=e.nextSibling)m(e,n,r)&&t.a(e)&&I(o,e);return o}function w(t,e,n,r,o){for(e=e.firstChild;e;e=e.nextSibling)m(e,n,r)&&t.a(e)&&I(o,e),w(t,e,n,r,o)}function E(t){if(t instanceof Z){if(8==t.b)return"!";if(null===t.b)return"*"}return t.c()}function A(t,e){if(t.contains&&1==e.nodeType)return t==e||t.contains(e);if("undefined"!=typeof t.compareDocumentPosition)return t==e||Boolean(16&t.compareDocumentPosition(e));for(;e&&t!=e;)e=e.parentNode;return e==t}function N(t,e){if(t==e)return 0;if(t.compareDocumentPosition)return 2&t.compareDocumentPosition(e)?1:-1;if(Yt&&!(Yt&&9<=$t)){if(9==t.nodeType)return-1;if(9==e.nodeType)return 1}if("sourceIndex"in t||t.parentNode&&"sourceIndex"in t.parentNode){var n=1==t.nodeType,r=1==e.nodeType;if(n&&r)return t.sourceIndex-e.sourceIndex;var o=t.parentNode,i=e.parentNode;return o==i?k(t,e):!n&&A(o,e)?-1*T(t,e):!r&&A(i,t)?T(e,t):(n?t.sourceIndex:o.sourceIndex)-(r?e.sourceIndex:i.sourceIndex)}return r=9==t.nodeType?t:t.ownerDocument||t.document,n=r.createRange(),n.selectNode(t),n.collapse(!0),r=r.createRange(),r.selectNode(e),r.collapse(!0),n.compareBoundaryPoints(qt.Range.START_TO_END,r)}function T(t,e){var n=t.parentNode;if(n==e)return-1;for(var r=e;r.parentNode!=n;)r=r.parentNode;return k(r,t)}function k(t,e){for(var n=e;n=n.previousSibling;)if(n==t)return-1;return 1}function C(){this.b=this.a=null,this.c=0}function S(t){this.a=t,this.next=this.b=null}function M(t,e){if(!t.a)return e;if(!e.a)return t;for(var n=t.a,r=e.a,o=null,i=null,a=0;n&&r;)n.a==r.a||n.a instanceof c&&r.a instanceof c&&n.a.f()==r.a.f()?(i=n,n=n.next,r=r.next):0<N(n.a,r.a)?(i=r,r=r.next):(i=n,n=n.next),(i.b=o)?o.next=i:t.a=i,o=i,a++;for(i=n||r;i;)i.b=o,o=o.next=i,a++,i=i.next;return t.b=o,t.c=a,t}function D(t,e){var n=new S(e);n.next=t.a,t.b?t.a.b=n:t.a=t.b=n,t.a=n,t.c++}function I(t,e){var n=new S(e);n.b=t.b,t.a?t.b.next=n:t.a=t.b=n,t.b=n,t.c++}function j(t){return(t=t.a)?t.a:null}function P(t){return(t=j(t))?v(t):""}function B(t,e){return new O(t,!!e)}function O(t,e){this.c=t,this.b=(this.d=e)?t.b:t.a,this.a=null}function R(t){switch(t.nodeType){case 1:return i(q,t);case 9:return R(t.documentElement);case 11:case 10:case 6:case 12:return V;default:return t.parentNode?R(t.parentNode):V}}function V(){return null}function q(t,e){if(t.prefix==e)return t.namespaceURI||"http://www.w3.org/1999/xhtml";var n=t.getAttributeNode("xmlns:"+e);return n&&n.specified?n.value||null:t.parentNode&&9!=t.parentNode.nodeType?q(t.parentNode,e):null}function L(t,e,n){this.a=t,this.t=e||1,this.u=n||1}function U(t){this.g=t,this.a=this.e=!1,this.b=null}function F(t){return"\n  "+t.toString().split("\n").join("\n  ")}function Y(t,e){t.e=e}function X(t,e){t.a=e}function H(t,e){var n=t.evaluate(e);return n instanceof C?+P(n):+n}function Q(t,e){var n=t.evaluate(e);return n instanceof C?P(n):""+n}function z(t,e){var n=t.evaluate(e);return n instanceof C?!!n.i():!!n}function J(t){U.call(this,4),this.c=t,Y(this,se(this.c,function(t){return t.e})),X(this,se(this.c,function(t){return t.a}))}function W(t,e){if(U.call(this,t.g),this.d=t,this.c=e,this.e=t.e,this.a=t.a,1==this.c.length){var n=this.c[0];n.m||n.c!=le||(n=n.j,"*"!=n.c()&&(this.b={name:n.c(),l:null}))}}function G(){U.call(this,4)}function K(){U.call(this,4)}function Z(t,e){switch(this.j=t,this.d=void 0!==e?e:null,this.b=null,t){case"comment":this.b=8;break;case"text":this.b=3;break;case"processing-instruction":this.b=7;break;case"node":break;default:throw Error("Unexpected argument")}}function $(t){return"comment"==t||"text"==t||"processing-instruction"==t||"node"==t}function tt(t,e){this.a=t,this.b=!!e}function et(t,e,n){for(n=n||0;n<t.a.length;n++)for(var r,o=t.a[n],i=B(e),a=e.i(),s=0;r=i.next();s++){var u=t.b?a-s:s+1;if(r=o.evaluate(new L(r,u,a)),"number"==typeof r)u=u==r;else if("string"==typeof r||"boolean"==typeof r)u=!!r;else{if(!(r instanceof C))throw Error("Predicate.evaluate returned an unexpected type.");u=0<r.i()}if(!u){u=i,r=u.c;var l=u.a;if(!l)throw Error("Next must be called at least once before remove.");var c=l.b,l=l.next;c?c.next=l:r.a=l,l?l.b=c:r.b=c,r.c--,u.a=null}}return e}function nt(t,e,n,r){U.call(this,4),this.c=t,this.j=e,this.d=n||new tt([]),this.m=!!r,e=0<this.d.a.length?this.d.a[0].b:null,t.b&&e&&(t=e.name,t=te?t.toLowerCase():t,this.b={name:t,l:e.l});t:{for(t=this.d,e=0;e<t.a.length;e++)if(n=t.a[e],n.e||1==n.g||0==n.g){t=!0;break t}t=!1}this.e=t}function rt(t,e,n,r){this.h=t,this.c=e,this.a=n,this.b=r}function ot(t,e,n,r){if(ue.hasOwnProperty(t))throw Error("Axis already created: "+t);return e=new rt(t,e,n,!!r),ue[t]=e}function it(t,e,n){U.call(this,t.g),this.c=t,this.d=e,this.j=n,this.e=e.e||n.e,this.a=e.a||n.a,this.c==ge&&(n.a||n.e||4==n.g||0==n.g||!e.b?e.a||e.e||4==e.g||0==e.g||!n.b||(this.b={name:n.b.name,l:e}):this.b={name:e.b.name,l:n})}function at(t,e,n,r,o){e=e.evaluate(r),n=n.evaluate(r);var i;if(e instanceof C&&n instanceof C){for(o=B(e),r=o.next();r;r=o.next())for(e=B(n),i=e.next();i;i=e.next())if(t(v(r),v(i)))return!0;return!1}if(e instanceof C||n instanceof C){for(e instanceof C?o=e:(o=n,n=e),o=B(o),e=typeof n,r=o.next();r;r=o.next()){switch(e){case"number":r=+v(r);break;case"boolean":r=!!v(r);break;case"string":r=v(r);break;default:throw Error("Illegal primitive type for comparison.")}if(t(r,n))return!0}return!1}return o?"boolean"==typeof e||"boolean"==typeof n?t(!!e,!!n):"number"==typeof e||"number"==typeof n?t(+e,+n):t(e,n):t(+e,+n)}function st(t,e,n,r){this.a=t,this.p=e,this.g=n,this.k=r}function ut(t,e,n,r){if(me.hasOwnProperty(t))throw Error("Binary operator already created: "+t);return t=new st(t,e,n,r),me[t.toString()]=t}function lt(t){U.call(this,1),this.c=t,this.e=t.e,this.a=t.a}function ct(t){U.call(this,3),this.c=t.substring(1,t.length-1)}function pt(t){U.call(this,1),this.c=t}function ht(t,e){this.h=t.toLowerCase(),this.d=e?e.toLowerCase():"http://www.w3.org/1999/xhtml"}function ft(t,e){if(e.length<t.o)throw Error("Function "+t.h+" expects at least"+t.o+" arguments, "+e.length+" given");if(null!==t.n&&e.length>t.n)throw Error("Function "+t.h+" expects at most "+t.n+" arguments, "+e.length+" given");t.s&&oe(e,function(e,n){if(4!=e.g)throw Error("Argument "+n+" to function "+t.h+" is not of type Nodeset: "+e)}),U.call(this,t.g),this.d=t,this.c=e,Y(this,t.e||se(e,function(t){return t.e})),X(this,t.r&&!e.length||t.q&&!!e.length||se(e,function(t){return t.a}))}function dt(t,e,n,r,o,i,a,s,u){this.h=t,this.g=e,this.e=n,this.r=r,this.q=o,this.k=i,this.o=a,this.n=void 0!==s?s:a,this.s=!!u}function vt(t,e,n,r,o,i,a,s){if(ye.hasOwnProperty(t))throw Error("Function already created: "+t+".");ye[t]=new dt(t,e,n,r,!1,o,i,a,s)}function mt(t,e){if(e.i()&&4!=t.g)throw Error("Primary expression must evaluate to nodeset if filter has predicate(s).");U.call(this,t.g),this.c=t,this.d=e,this.e=t.e,this.a=t.a}function gt(t,e){this.a=t,this.b=e}function yt(t){for(var e,n=[];;){xt(t,"Missing right hand side of binary expression."),e=kt(t);var r=t.a.next();if(!r)break;var o=(r=me[r]||null)&&r.p;if(!o){t.a.a--;break}for(;n.length&&o<=n[n.length-1].p;)e=new it(n.pop(),n.pop(),e);n.push(e,r)}for(;n.length;)e=new it(n.pop(),n.pop(),e);return e}function xt(t,e){if(t.a.b.length<=t.a.a)throw Error(e)}function bt(t,e){var n=t.a.next();if(n!=e)throw Error("Bad token, expected: "+e+" got: "+n)}function _t(t){if(t=t.a.next(),")"!=t)throw Error("Bad token: "+t)}function wt(t){if(t=t.a.next(),2>t.length)throw Error("Unclosed literal string");return new ct(t)}function Et(t){var e=t.a.next(),n=e.indexOf(":");if(-1==n)return new ht(e);var r=e.substring(0,n);if(t=t.b(r),!t)throw Error("Namespace prefix not declared: "+r);return e=e.substr(n+1),new ht(e,t)}function At(t){var e,n,r=[];if("/"==Mt(t.a)||"//"==Mt(t.a)){if(e=t.a.next(),n=Mt(t.a),"/"==e&&(t.a.b.length<=t.a.a||"."!=n&&".."!=n&&"@"!=n&&"*"!=n&&!/(?![0-9])[\w]/.test(n)))return new G;n=new G,xt(t,"Missing next location step."),e=Nt(t,e),r.push(e)}else{t:{switch(e=Mt(t.a),n=e.charAt(0)){case"$":throw Error("Variable reference not allowed in HTML XPath");case"(":t.a.next(),e=yt(t),xt(t,'unclosed "("'),bt(t,")");break;case'"':case"'":e=wt(t);break;default:if(isNaN(+e)){if($(e)||!/(?![0-9])[\w]/.test(n)||"("!=Mt(t.a,1)){e=null;break t}for(e=t.a.next(),e=ye[e]||null,t.a.next(),n=[];")"!=Mt(t.a)&&(xt(t,"Missing function argument list."),n.push(yt(t)),","==Mt(t.a));)t.a.next();xt(t,"Unclosed function argument list."),_t(t),e=new ft(e,n)}else e=new pt(+t.a.next())}"["==Mt(t.a)&&(n=new tt(Tt(t)),e=new mt(e,n))}if(e){if("/"!=Mt(t.a)&&"//"!=Mt(t.a))return e;n=e}else e=Nt(t,"/"),n=new K,r.push(e)}for(;"/"==Mt(t.a)||"//"==Mt(t.a);)e=t.a.next(),xt(t,"Missing next location step."),e=Nt(t,e),r.push(e);return new W(n,r)}function Nt(t,e){var n,r,o;if("/"!=e&&"//"!=e)throw Error('Step op should be "/" or "//"');if("."==Mt(t.a))return r=new nt(ve,new Z("node")),t.a.next(),r;if(".."==Mt(t.a))return r=new nt(fe,new Z("node")),t.a.next(),r;var i;if("@"==Mt(t.a))i=le,t.a.next(),xt(t,"Missing attribute name");else if("::"==Mt(t.a,1)){if(!/(?![0-9])[\w]/.test(Mt(t.a).charAt(0)))throw Error("Bad token: "+t.a.next());if(n=t.a.next(),i=ue[n]||null,!i)throw Error("No axis with name: "+n);t.a.next(),xt(t,"Missing node name")}else i=ce;if(n=Mt(t.a),/(?![0-9])[\w]/.test(n.charAt(0)))if("("==Mt(t.a,1)){if(!$(n))throw Error("Invalid node type: "+n);if(n=t.a.next(),!$(n))throw Error("Invalid type name: "+n);bt(t,"("),xt(t,"Bad nodetype"),o=Mt(t.a).charAt(0);var a=null;'"'!=o&&"'"!=o||(a=wt(t)),xt(t,"Bad nodetype"),_t(t),n=new Z(n,a)}else n=Et(t);else{if("*"!=n)throw Error("Bad token: "+t.a.next());n=Et(t)}return o=new tt(Tt(t),i.a),r||new nt(i,n,o,"//"==e)}function Tt(t){for(var e=[];"["==Mt(t.a);){t.a.next(),xt(t,"Missing predicate expression.");var n=yt(t);e.push(n),xt(t,"Unclosed predicate expression."),bt(t,"]")}return e}function kt(t){if("-"==Mt(t.a))return t.a.next(),new lt(kt(t));var e=At(t);if("|"!=Mt(t.a))t=e;else{for(e=[e];"|"==t.a.next();)xt(t,"Missing next union location path."),e.push(At(t));t.a.a--,t=new J(e)}return t}function Ct(t){this.b=t,this.a=0}function St(t){t=t.match(xe);for(var e=0;e<t.length;e++)be.test(t[e])&&t.splice(e,1);return new Ct(t)}function Mt(t,e){return t.b[t.a+(e||0)]}function Dt(e,n){if(!e.length)throw Error("Empty XPath expression.");var r=St(e);if(r.b.length<=r.a)throw Error("Invalid XPath expression.");n?"function"==t(n)||(n=o(n.lookupNamespaceURI,n)):n=function(){return null};var i=yt(new gt(r,n));if(!(r.b.length<=r.a))throw Error("Bad token: "+r.next());this.evaluate=function(t,e){var n=i.evaluate(new L(t));return new It(n,e)}}function It(t,e){if(0==e)if(t instanceof C)e=4;else if("string"==typeof t)e=2;else if("number"==typeof t)e=1;else{if("boolean"!=typeof t)throw Error("Unexpected evaluation result.");e=3}if(2!=e&&1!=e&&3!=e&&!(t instanceof C))throw Error("value could not be converted to the specified type");
this.resultType=e;var n;switch(e){case 2:this.stringValue=t instanceof C?P(t):""+t;break;case 1:this.numberValue=t instanceof C?+P(t):+t;break;case 3:this.booleanValue=t instanceof C?0<t.i():!!t;break;case 4:case 5:case 6:case 7:var r=B(t);n=[];for(var o=r.next();o;o=r.next())n.push(o instanceof c?o.f():o);this.snapshotLength=t.i(),this.invalidIteratorState=!1;break;case 8:case 9:r=j(t),this.singleNodeValue=r instanceof c?r.f():r;break;default:throw Error("Unknown XPathResult type.")}var i=0;this.iterateNext=function(){if(4!=e&&5!=e)throw Error("iterateNext called with wrong result type");return i>=n.length?null:n[i++]},this.snapshotItem=function(t){if(6!=e&&7!=e)throw Error("snapshotItem called with wrong result type");return t>=n.length||0>t?null:n[t]}}function jt(t){this.lookupNamespaceURI=R(t)}function Pt(t){t=t||qt;var e=t.document;e.evaluate||(t.XPathResult=It,e.evaluate=function(t,e,n,r){return new Dt(t,n).evaluate(e,r)},e.createExpression=function(t,e){return new Dt(t,e)},e.createNSResolver=function(t){return new jt(t)})}var Bt,Ot,Rt,Vt,qt=this;Vt=Rt=Ot=Bt=!1;var Lt;if(Lt=s()){var Ut=qt.navigator;Bt=0==Lt.lastIndexOf("Opera",0),Ot=!Bt&&(-1!=Lt.indexOf("MSIE")||-1!=Lt.indexOf("Trident")),Rt=!Bt&&-1!=Lt.indexOf("WebKit"),Vt=!Bt&&!Rt&&!Ot&&"Gecko"==Ut.product}var Ft,Yt=Ot,Xt=Vt,Ht=Rt;t:{var Qt,zt="";if(Bt&&qt.opera)var Jt=qt.opera.version,zt="function"==typeof Jt?Jt():Jt;else if(Xt?Qt=/rv\:([^\);]+)(\)|;)/:Yt?Qt=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:Ht&&(Qt=/WebKit\/(\S+)/),Qt)var Wt=Qt.exec(s()),zt=Wt?Wt[1]:"";if(Yt){var Gt=u();if(Gt>parseFloat(zt)){Ft=String(Gt);break t}}Ft=zt}var Kt={},Zt=qt.document,$t=Zt&&Yt?u()||("CSS1Compat"==Zt.compatMode?parseInt(Ft,10):5):void 0,te=Yt&&!(Yt&&9<=$t),ee=Yt&&!(Yt&&8<=$t);c.prototype.f=function(){return this.a};var ne=Array.prototype,re=ne.indexOf?function(t,e,n){return ne.indexOf.call(t,e,n)}:function(t,n,r){if(r=null==r?0:0>r?Math.max(0,t.length+r):r,e(t))return e(n)&&1==n.length?t.indexOf(n,r):-1;for(;r<t.length;r++)if(r in t&&t[r]===n)return r;return-1},oe=ne.forEach?function(t,e,n){ne.forEach.call(t,e,n)}:function(t,n,r){for(var o=t.length,i=e(t)?t.split(""):t,a=0;a<o;a++)a in i&&n.call(r,i[a],a,t)},ie=ne.filter?function(t,e,n){return ne.filter.call(t,e,n)}:function(t,n,r){for(var o=t.length,i=[],a=0,s=e(t)?t.split(""):t,u=0;u<o;u++)if(u in s){var l=s[u];n.call(r,l,u,t)&&(i[a++]=l)}return i},ae=ne.reduce?function(t,e,n,r){return r&&(e=o(e,r)),ne.reduce.call(t,e,n)}:function(t,e,n,r){var o=n;return oe(t,function(n,i){o=e.call(r,o,n,i,t)}),o},se=ne.some?function(t,e,n){return ne.some.call(t,e,n)}:function(t,n,r){for(var o=t.length,i=e(t)?t.split(""):t,a=0;a<o;a++)if(a in i&&n.call(r,i[a],a,t))return!0;return!1};!Xt&&!Yt||Yt&&Yt&&9<=$t||Xt&&l("1.9.1"),Yt&&l("9"),C.prototype.i=function(){return this.c},O.prototype.next=function(){var t=this.b;if(null==t)return null;var e=this.a=t;return this.b=this.d?t.b:t.next,e.a},L.prototype.f=function(){return this.a},a(J),J.prototype.evaluate=function(t){var e=new C;return oe(this.c,function(n){if(n=n.evaluate(t),!(n instanceof C))throw Error("Path expression must evaluate to NodeSet.");e=M(e,n)}),e},J.prototype.toString=function(){return ae(this.c,function(t,e){return t+F(e)},"Union Expression:")},a(W),a(G),G.prototype.evaluate=function(t){var e=new C;return t=t.f(),9==t.nodeType?I(e,t):I(e,t.ownerDocument),e},G.prototype.toString=function(){return"Root Helper Expression"},a(K),K.prototype.evaluate=function(t){var e=new C;return I(e,t.f()),e},K.prototype.toString=function(){return"Context Helper Expression"},W.prototype.evaluate=function(t){var e=this.d.evaluate(t);if(!(e instanceof C))throw Error("Filter expression must evaluate to nodeset.");t=this.c;for(var n=0,r=t.length;n<r&&e.i();n++){var o,i=t[n],a=B(e,i.c.a);if(i.e||i.c!=he)if(i.e||i.c!=de)for(o=a.next(),e=i.evaluate(new L(o));null!=(o=a.next());)o=i.evaluate(new L(o)),e=M(e,o);else o=a.next(),e=i.evaluate(new L(o));else{for(o=a.next();(e=a.next())&&(!o.contains||o.contains(e))&&8&e.compareDocumentPosition(o);o=e);e=i.evaluate(new L(o))}}return e},W.prototype.toString=function(){var t;if(t="Path Expression:"+F(this.d),this.c.length){var e=ae(this.c,function(t,e){return t+F(e)},"Steps:");t+=F(e)}return t},Z.prototype.a=function(t){return null===this.b||this.b==t.nodeType},Z.prototype.c=function(){return this.j},Z.prototype.toString=function(){var t="Kind Test: "+this.j;return null===this.d||(t+=F(this.d)),t},tt.prototype.i=function(){return this.a.length},tt.prototype.toString=function(){return ae(this.a,function(t,e){return t+F(e)},"Predicates:")},a(nt),nt.prototype.evaluate=function(t){var e=t.f(),n=null,n=this.b,r=null,o=null,i=0;if(n&&(r=n.name,o=n.l?Q(n.l,t):null,i=1),this.m)if(this.e||this.c!=ce)if(t=B(new nt(pe,new Z("node")).evaluate(t)),e=t.next())for(n=this.k(e,r,o,i);null!=(e=t.next());)n=M(n,this.k(e,r,o,i));else n=new C;else n=g(this.j,e,r,o),n=et(this.d,n,i);else n=this.k(t.f(),r,o,i);return n},nt.prototype.k=function(t,e,n,r){return t=this.c.c(this.j,t,e,n),t=et(this.d,t,r)},nt.prototype.toString=function(){var t;if(t="Step:"+F("Operator: "+(this.m?"//":"/")),this.c.h&&(t+=F("Axis: "+this.c)),t+=F(this.j),this.d.i()){var e=ae(this.d.a,function(t,e){return t+F(e)},"Predicates:");t+=F(e)}return t},rt.prototype.toString=function(){return this.h};var ue={};ot("ancestor",function(t,e){for(var n=new C,r=e;r=r.parentNode;)t.a(r)&&D(n,r);return n},!0),ot("ancestor-or-self",function(t,e){var n=new C,r=e;do t.a(r)&&D(n,r);while(r=r.parentNode);return n},!0);var le=ot("attribute",function(t,e){var n=new C,r=t.c();if("style"==r&&e.style&&te)return I(n,new c(e.style,e,"style",e.style.cssText)),n;var o=e.attributes;if(o)if(t instanceof Z&&null===t.b||"*"==r)for(var i,r=0;i=o[r];r++)te?i.nodeValue&&I(n,p(e,i)):I(n,i);else(i=o.getNamedItem(r))&&(te?i.nodeValue&&I(n,p(e,i)):I(n,i));return n},!1),ce=ot("child",function(t,n,r,o,i){return(te?b:_).call(null,t,n,e(r)?r:null,e(o)?o:null,i||new C)},!1,!0);ot("descendant",g,!1,!0);var pe=ot("descendant-or-self",function(t,e,n,r){var o=new C;return m(e,n,r)&&t.a(e)&&I(o,e),g(t,e,n,r,o)},!1,!0),he=ot("following",function(t,e,n,r){var o=new C;do for(var i=e;i=i.nextSibling;)m(i,n,r)&&t.a(i)&&I(o,i),o=g(t,i,n,r,o);while(e=e.parentNode);return o},!1,!0);ot("following-sibling",function(t,e){for(var n=new C,r=e;r=r.nextSibling;)t.a(r)&&I(n,r);return n},!1),ot("namespace",function(){return new C},!1);var fe=ot("parent",function(t,e){var n=new C;if(9==e.nodeType)return n;if(2==e.nodeType)return I(n,e.ownerElement),n;var r=e.parentNode;return t.a(r)&&I(n,r),n},!1),de=ot("preceding",function(t,e,n,r){var o=new C,i=[];do i.unshift(e);while(e=e.parentNode);for(var a=1,s=i.length;a<s;a++){var u=[];for(e=i[a];e=e.previousSibling;)u.unshift(e);for(var l=0,c=u.length;l<c;l++)e=u[l],m(e,n,r)&&t.a(e)&&I(o,e),o=g(t,e,n,r,o)}return o},!0,!0);ot("preceding-sibling",function(t,e){for(var n=new C,r=e;r=r.previousSibling;)t.a(r)&&D(n,r);return n},!0);var ve=ot("self",function(t,e){var n=new C;return t.a(e)&&I(n,e),n},!1);a(it),it.prototype.evaluate=function(t){return this.c.k(this.d,this.j,t)},it.prototype.toString=function(){var t="Binary Expression: "+this.c,t=t+F(this.d);return t+=F(this.j)},st.prototype.toString=function(){return this.a};var me={};ut("div",6,1,function(t,e,n){return H(t,n)/H(e,n)}),ut("mod",6,1,function(t,e,n){return H(t,n)%H(e,n)}),ut("*",6,1,function(t,e,n){return H(t,n)*H(e,n)}),ut("+",5,1,function(t,e,n){return H(t,n)+H(e,n)}),ut("-",5,1,function(t,e,n){return H(t,n)-H(e,n)}),ut("<",4,2,function(t,e,n){return at(function(t,e){return t<e},t,e,n)}),ut(">",4,2,function(t,e,n){return at(function(t,e){return t>e},t,e,n)}),ut("<=",4,2,function(t,e,n){return at(function(t,e){return t<=e},t,e,n)}),ut(">=",4,2,function(t,e,n){return at(function(t,e){return t>=e},t,e,n)});var ge=ut("=",3,2,function(t,e,n){return at(function(t,e){return t==e},t,e,n,!0)});ut("!=",3,2,function(t,e,n){return at(function(t,e){return t!=e},t,e,n,!0)}),ut("and",2,2,function(t,e,n){return z(t,n)&&z(e,n)}),ut("or",1,2,function(t,e,n){return z(t,n)||z(e,n)}),a(lt),lt.prototype.evaluate=function(t){return-H(this.c,t)},lt.prototype.toString=function(){return"Unary Expression: -"+F(this.c)},a(ct),ct.prototype.evaluate=function(){return this.c},ct.prototype.toString=function(){return"Literal: "+this.c},a(pt),pt.prototype.evaluate=function(){return this.c},pt.prototype.toString=function(){return"Number: "+this.c},ht.prototype.a=function(t){var e=t.nodeType,n=t.nodeName;return(1==e||2==e)&&("*"==this.h||(n=n.split(":").pop(),this.h==n.toLowerCase()&&this.d==(t.namespaceURI?t.namespaceURI.toLowerCase():"http://www.w3.org/1999/xhtml")))},ht.prototype.c=function(){return this.h},ht.prototype.toString=function(){return"Name Test: "+("http://www.w3.org/1999/xhtml"==this.d?"":this.d+":")+this.h},a(ft),ft.prototype.evaluate=function(t){return this.d.k.apply(null,f(t,this.c))},ft.prototype.toString=function(){var t="Function: "+this.d;if(this.c.length)var e=ae(this.c,function(t,e){return t+F(e)},"Arguments:"),t=t+F(e);return t},dt.prototype.toString=function(){return this.h};var ye={};vt("boolean",2,!1,!1,function(t,e){return z(e,t)},1),vt("ceiling",1,!1,!1,function(t,e){return Math.ceil(H(e,t))},1),vt("concat",3,!1,!1,function(t,e){var n=d(arguments,1);return ae(n,function(e,n){return e+Q(n,t)},"")},2,null),vt("contains",2,!1,!1,function(t,e,n){return e=Q(e,t),t=Q(n,t),-1!=e.indexOf(t)},2),vt("count",1,!1,!1,function(t,e){return e.evaluate(t).i()},1,1,!0),vt("false",2,!1,!1,function(){return!1},0),vt("floor",1,!1,!1,function(t,e){return Math.floor(H(e,t))},1),vt("id",4,!1,!1,function(t,e){function n(t){if(te){var e=o.all[t];if(e){if(e.nodeType&&t==e.id)return e;if(e.length)return h(e,function(e){return t==e.id})}return null}return o.getElementById(t)}var r=t.f(),o=9==r.nodeType?r:r.ownerDocument,r=Q(e,t).split(/\s+/),i=[];oe(r,function(t){t=n(t),!t||0<=re(i,t)||i.push(t)}),i.sort(N);var a=new C;return oe(i,function(t){I(a,t)}),a},1),vt("lang",2,!1,!1,function(){return!1},1),vt("last",1,!0,!1,function(t){if(1!=arguments.length)throw Error("Function last expects ()");return t.u},0),vt("local-name",3,!1,!0,function(t,e){var n=e?j(e.evaluate(t)):t.f();return n?n.localName||n.nodeName.toLowerCase():""},0,1,!0),vt("name",3,!1,!0,function(t,e){var n=e?j(e.evaluate(t)):t.f();return n?n.nodeName.toLowerCase():""},0,1,!0),vt("namespace-uri",3,!0,!1,function(){return""},0,1,!0),vt("normalize-space",3,!1,!0,function(t,e){return(e?Q(e,t):v(t.f())).replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")},0,1),vt("not",2,!1,!1,function(t,e){return!z(e,t)},1),vt("number",1,!1,!0,function(t,e){return e?H(e,t):+v(t.f())},0,1),vt("position",1,!0,!1,function(t){return t.t},0),vt("round",1,!1,!1,function(t,e){return Math.round(H(e,t))},1),vt("starts-with",2,!1,!1,function(t,e,n){return e=Q(e,t),t=Q(n,t),0==e.lastIndexOf(t,0)},2),vt("string",3,!1,!0,function(t,e){return e?Q(e,t):v(t.f())},0,1),vt("string-length",1,!1,!0,function(t,e){return(e?Q(e,t):v(t.f())).length},0,1),vt("substring",3,!1,!1,function(t,e,n,r){if(n=H(n,t),isNaN(n)||1/0==n||-(1/0)==n)return"";if(r=r?H(r,t):1/0,isNaN(r)||-(1/0)===r)return"";n=Math.round(n)-1;var o=Math.max(n,0);return t=Q(e,t),1/0==r?t.substring(o):(e=Math.round(r),t.substring(o,n+e))},2,3),vt("substring-after",3,!1,!1,function(t,e,n){return e=Q(e,t),t=Q(n,t),n=e.indexOf(t),-1==n?"":e.substring(n+t.length)},2),vt("substring-before",3,!1,!1,function(t,e,n){return e=Q(e,t),t=Q(n,t),t=e.indexOf(t),-1==t?"":e.substring(0,t)},2),vt("sum",1,!1,!1,function(t,e){for(var n=B(e.evaluate(t)),r=0,o=n.next();o;o=n.next())r+=+v(o);return r},1,1,!0),vt("translate",3,!1,!1,function(t,e,n,r){e=Q(e,t),n=Q(n,t);var o=Q(r,t);for(t=[],r=0;r<n.length;r++){var i=n.charAt(r);i in t||(t[i]=o.charAt(r))}for(n="",r=0;r<e.length;r++)i=e.charAt(r),n+=i in t?t[i]:i;return n},3),vt("true",2,!1,!1,function(){return!0},0),a(mt),mt.prototype.evaluate=function(t){return t=this.c.evaluate(t),et(this.d,t)},mt.prototype.toString=function(){var t;return t="Filter:"+F(this.c),t+=F(this.d)};var xe=RegExp("\\$?(?:(?![0-9-])[\\w-]+:)?(?![0-9-])[\\w\\.-]+|\\/\\/|\\.\\.|::|\\d+(?:\\.\\d*)?|\\.\\d+|\"[^\"]*\"|'[^']*'|[!<>]=|\\s+|.","g"),be=/^\s/;Ct.prototype.next=function(){return this.b[this.a++]},It.ANY_TYPE=0,It.NUMBER_TYPE=1,It.STRING_TYPE=2,It.BOOLEAN_TYPE=3,It.UNORDERED_NODE_ITERATOR_TYPE=4,It.ORDERED_NODE_ITERATOR_TYPE=5,It.UNORDERED_NODE_SNAPSHOT_TYPE=6,It.ORDERED_NODE_SNAPSHOT_TYPE=7,It.ANY_UNORDERED_NODE_TYPE=8,It.FIRST_ORDERED_NODE_TYPE=9;var _e=["wgxpath","install"],we=qt;_e[0]in we||!we.execScript||we.execScript("var "+_e[0]);for(var Ee;_e.length&&(Ee=_e.shift());)_e.length||void 0===Pt?we=we[Ee]?we[Ee]:we[Ee]={}:we[Ee]=Pt}()}]);
//# sourceMappingURL=jquery.echoforms-basic.min.js.map